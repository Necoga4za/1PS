<%- include('./include/_header', {title: 'My Profile', cssFile: 'login'}) %>
    
<main class="content-area">
    <h1 class="logo">My Profile</h1> 

    <div class="login-container">
        
        <form class="login-form" action="/my?_method=PUT" method="POST"> 

            <% 
               const _enteredData = enteredData || {};
               const _errorMessage = errorMessage || '';
            %>
                <% if (_errorMessage) { %>
                    <p class="error-message" style="color: #f44336; font-size: 0.8rem; text-align: center; margin-bottom: 15px;font-family: Arial, sans-serif; ">
                    <%= _errorMessage %>
          
                    </p>
            <% } %>
            
            <div class="input-group">
                <label for="name-input">Nice name :</label>
             
                <input type="text" id="name-input" name="name" value="<%= _enteredData.name || user.name %>" required>
            </div>
            
            <div class="input-group">
                <label for="email-input">Email :</label>
             
                <input type="email" id="email-input" name="email" value="<%= user.email %>" required readonly>
            </div>

            <div class="input-group">
                <label for="phone-input">Phone :</label>
                <input type="tel" id="phone-input" name="phone" value="<%= _enteredData.phone || user.phone %>" required>
            </div>
            
            <div class="input-group">
                <label for="password-input">New Password :</label>
                <input type="password" id="password-input" name="password" placeholder="변경하려면 입력하세요.">

            </div>

            <div class="input-group">
                <label for="confirm-password-input">Confirm password :</label>
                <input type="password" id="confirm-password-input" name="confirmPassword" placeholder="변경하려면 입력하세요.">
            </div>

         
            <div class="button-group">
                <button type="submit" class="sign-up-button">정보 수정</button> 
            </div>
        </form> 

        <form action="/my?_method=DELETE" method="POST" 

            onsubmit="return confirm('정말로 계정을 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다.');">
            
            <div class="button-group" style="justify-content: center;
                margin-top: 15px;">
                <button type="submit" class="login-button" style="background-color: #f44336;
                color: white;">계정 삭제 (탈퇴)</button>
            </div>
        </form>

    </div>
</main>

<%- include('./include/_footer') %>